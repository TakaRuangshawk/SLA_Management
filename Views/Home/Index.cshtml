@{
    ViewData["Title"] = "Home Page";
}
<style>
    #banner-fv {
        background-color: #225789;
        color: white;
        font-size: 20px;
        border-radius: 15px;
        margin-top: 15px;
    }

    #banner-so {
        background-color: #027913;
        color: white;
        font-size: 20px;
        border-radius: 15px;
    }

    #comlogbox {
        text-align: center;
        display: flex !important;
        justify-content: center;
        align-items: flex-start;
        padding-left: 10px;
        font-weight: 700;
        border-radius: 15px 15px 15px 15px;
        background-color: rgb(255,255,255);
        color: black;
        flex-wrap: wrap;
        font-size: 35px;
        height: 75px;
        align-content: center;
        border-style: ridge;
        border-color: gray;
        border: outset;
    }

    .ds-flex-center {
        display: flex;
        justify-content: center;
    }

    .ds-flex-spacearound {
        display: flex;
        justify-content: space-around;
    }

    .row {
        margin: auto;
    }

    table {
        background-color: white;
    }

    .custom-table-home thead tr, .custom-table thead th {
        border-top: none;
        border-bottom: none !important;
        color: #000;
        background-color: #8fcaf4;
        font-size: 1vw;
        border-color: antiquewhite;
        border: 3px solid lightgray;
    }

    .custom-table-home tbody th, .custom-table tbody td {
        color: black;
        padding-bottom: 20px;
        padding-top: 20px;
        font-weight: 300;
        transition: .3s all ease;
        border: 2px solid lightgray;
    }

    @@media (max-width: 1199px) {
        #row-pic-welcome {
            display: none;
        }
    }

    @@media (min-width: 1200px) {
        #row-pic-welcome {
            height: auto;
            display: flex;
            align-content: center;
            justify-content: flex-end;
        }

        .sla-tracking-row {
            padding-left: 130px;
        }
    }

    #comlogbox {
        text-align: center;
        display: flex !important;
        justify-content: center;
        align-items: flex-start;
        padding-left: 10px;
        font-weight: 700;
        border-radius: 15px 15px 15px 15px;
        background-color: rgb(255,255,255);
        color: black;
        flex-wrap: wrap;
        font-size: 35px;
        height: 75px;
        align-content: center;
        border-style: ridge;
        border-color: gray;
        border: outset;
    }

    .row {
        margin: auto;
    }

    table {
        background-color: white;
        margin-top: -15px;
    }

    .bar-container {
        display: flex;
        align-items: center;
        width: 460px;
        margin: 20px;
        /*border: 1px solid black;*/
        padding-left: 10px;
        padding-top: 10px;
        padding-bottom: 10px;
    }

    .line {
        border-right: 1px solid black;
        height: 195px; /* Set an appropriate height */
    }

    .color-label {
        margin-left: 20px;
    }

    .bars {
        flex: 0.7;
    }

    .bar {
        height: 20px;
    }

    .color-squares {
        display: flex;
        flex-direction: column;
    }

    .color-square {
        width: 14px;
        height: 14px;
        margin-bottom: 18px;
    }


    .bar-A {
        background-color: red;
    }

    .bar-B {
        background-color: green;
    }

    .bar-C {
        background-color: grey;
    }

    .bar-D {
        background-color: yellow;
    }

    .bar-E {
        background-color: blue;
    }


    #myChartLRM {
        width: 280px !important; /* Set the width of the canvas */
        height: 200px !important; /* Set the height of the canvas */
    }

    #myChartRDM {
        width: 280px !important; /* Set the width of the canvas */
        height: 200px !important; /* Set the height of the canvas */
    }

    #myChart2IN1 {
        width: 280px !important; /* Set the width of the canvas */
        height: 200px !important; /* Set the height of the canvas */
    }

 
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>

<div class="text-center" id="bg">
    @*<h1 class="display-4">Welcome</h1>
    <p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>*@
    <div class="container-fluid">

        <div class="row">
            <div class="col-md-12 col-xl-6" id="main-left">
                <div class="row" style="padding:0;background-color: rgba(255,255,255,0.65);padding: 1vh 1vw 1vh 1vw;border-radius: 15px 15px 15px 15px;margin-bottom: 10px;">
                    <div class="col-3" style="background-color: rgba(255,255,255,0.65);padding: 1vh 0 1vh 1vw;border-radius: 15px 0px 0px 15px;margin-left: 4%">
                        <div class="fs-5 text-nowrap" id="date" style="height: 100%; border-radius: 15px 0px 0px 15px;text-align: left;display: flex!important;justify-content: flex-start;align-items: center;font-weight: 700;padding-left: 1vw;z-index: inherit;position: sticky;"></div>
                    </div>
                    <div class="col-3" style="background-color: rgba(255,255,255,0.65);padding: 1vh 1vw 1vh 0;border-radius: 0px 15px 15px 0px;width: 15%;margin-right: 25px;">
                        <div class="fs-5" id="time" style="height: 100%; border-radius: 0px 15px 15px 0px;text-align: left;display: flex!important;justify-content: flex-end;align-items: center;font-weight: 700;padding-right: 1vw;"></div>
                    </div>
                    <div class="col-3" style="background-color: rgba(255,255,255,0.65);padding: 1vh 0 1vh 1vw;border-radius: 15px 0px 0px 15px;">
                        <div class="fs-6 text-nowrap" id="" style="height:100%; border-radius: 15px 0px 0px 15px;text-align: left;display: flex!important;justify-content: space-around;align-items: center;font-weight: 700;padding-left: 1vw;z-index: inherit;position: sticky;">
                            <input type="checkbox" id="refreshCheckbox" />
                            <label for="refreshCheckbox">Auto Refresh : </label>
                        </div>
                    </div>
                    <div class="col-3" style="background-color: rgba(255,255,255,0.65);padding: 1vh 1vw 1vh 1vw;border-radius: 0px 15px 15px 0px;">
                        <div class="fs-6" id="" style="height:100%;border-radius: 15px 15px 15px 15px;text-align: left;display: flex!important;justify-content: center;align-items: center;font-weight: 700;padding-right: 1vw;">
                            <select id="refreshTime" onchange="handleRefreshTimeChange()" style="border: 1px solid lightgray;border-radius: 10px;">
                                <option value="5">5 seconds</option>
                                <option value="10">10 seconds</option>
                                <option value="30">30 seconds</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div style="padding:0;background-color: rgba(255,255,255,0.65);padding: 1vh 1vw 1vh 1vw;border-radius: 15px 15px 15px 15px;margin-bottom: 10px;">
                    <div id="banner-fv">
                        <div class="row ">
                            <div class="col-12">
                                <div class="row ds-flex-spacearound" style="padding-top:0.5vh;padding-bottom:0.5vh;">
                                    <div class="col-5 fs-5" style="text-align:left;white-space:nowrap">
                                        เครื่อง LRM - Feelview จำนวนเครื่องทั้งหมด : @ViewBag.FVLRMTotal เครื่อง
                                    </div>
                                    <div class="col-5">
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div class="row" id="maincard-status" style="border-radius:15px; background-color: rgba(255,255,255,1);">
                            <div class="col-6">
                                <div class="row ds-flex-center">

                                    <div class="text-nowrap fs-6 col-10" style="padding-top:0.5vh;padding-bottom:0.5vh; text-align:left;font-size: 1.1vw;font-weight: 700;color:rgb(19,163,5);">
                                        จำนวนเครื่อง Online : @ViewBag.onlineLRM เครื่อง
                                    </div>
                                </div>
                                <div class="row ds-flex-center">

                                    <div class="fs-3 col-5" style="border:outset; text-align: center;display: flex!important;justify-content: center;align-items: flex-start;padding-left: 10px;font-weight: 700;border-radius: 15px 15px 15px 15px;background-color: rgb(19,163,5);color: whitesmoke;flex-wrap: wrap;font-size: 35px;height: 75px; align-content: center;">
                                        @ViewBag.onlineLRM
                                    </div>


                                </div>

                            </div>
                            <div class="col-6" style="padding-bottom: 20px;">
                                <div class="row ds-flex-center">

                                    <div class="text-nowrap fs-6 col-10" style="padding-top:0.5vh;padding-bottom:0.5vh;text-align:left;font-size: 1.1vw;font-weight: 700;color:rgb(252,42,77);">
                                        จำนวนเครื่อง Offline : @ViewBag.offlineLRM เครื่อง
                                    </div>
                                </div>
                                <div class="row ds-flex-center">

                                    <div class="fs-3 col-5" style="border:outset; text-align: center;display: flex!important;justify-content: center;align-items: flex-start;padding-left: 10px;font-weight: 700;border-radius: 15px 15px 15px 15px;background-color: rgb(252,42,77);color: whitesmoke;flex-wrap: wrap;font-size: 35px;height: 75px; align-content: center;">
                                        @ViewBag.offlineLRM
                                    </div>


                                </div>

                            </div>

                        </div>
                    </div>
                    <div id="banner-fv">
                        <div class="row ">
                            <div class="col-12">
                                <div class="row ds-flex-spacearound" style="padding-top:0.5vh;padding-bottom:0.5vh;">
                                    <div class="col-5 fs-5" style="text-align:left;white-space:nowrap">
                                        เครื่อง RDM - Feelview จำนวนเครื่องทั้งหมด : @ViewBag.FVRDMTotal เครื่อง
                                    </div>
                                    <div class="col-5">
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div class="row" id="maincard-status" style="border-radius:15px; background-color: rgba(255,255,255,1);">
                            <div class="col-6">
                                <div class="row ds-flex-center">

                                    <div class="text-nowrap fs-6 col-10" style="padding-top:0.5vh;padding-bottom:0.5vh; text-align:left;font-size: 1.1vw;font-weight: 700;color:rgb(19,163,5);">
                                        จำนวนเครื่อง Online : @ViewBag.onlineRDM เครื่อง
                                    </div>
                                </div>
                                <div class="row ds-flex-center">

                                    <div class="fs-3 col-5" style="border:outset; text-align: center;display: flex!important;justify-content: center;align-items: flex-start;padding-left: 10px;font-weight: 700;border-radius: 15px 15px 15px 15px;background-color: rgb(19,163,5);color: whitesmoke;flex-wrap: wrap;font-size: 35px;height: 75px; align-content: center;">
                                        @ViewBag.onlineRDM
                                    </div>


                                </div>

                            </div>
                            <div class="col-6" style="padding-bottom: 20px;">
                                <div class="row ds-flex-center">

                                    <div class="text-nowrap fs-6 col-10" style="padding-top:0.5vh;padding-bottom:0.5vh;text-align:left;font-size: 1.1vw;font-weight: 700;color:rgb(252,42,77);">
                                        จำนวนเครื่อง Offline : @ViewBag.offlineRDM เครื่อง
                                    </div>
                                </div>
                                <div class="row ds-flex-center">

                                    <div class="fs-3 col-5" style="border:outset; text-align: center;display: flex!important;justify-content: center;align-items: flex-start;padding-left: 10px;font-weight: 700;border-radius: 15px 15px 15px 15px;background-color: rgb(252,42,77);color: whitesmoke;flex-wrap: wrap;font-size: 35px;height: 75px; align-content: center;">
                                        @ViewBag.offlineRDM
                                    </div>


                                </div>

                            </div>

                        </div>
                    </div>
                    <div id="banner-fv">
                        <div class="row ">
                            <div class="col-12">
                                <div class="row ds-flex-spacearound" style="padding-top:0.5vh;padding-bottom:0.5vh;">
                                    <div class="col-5 fs-5" style="text-align:left;white-space:nowrap">
                                        เครื่อง 2IN1 - Feelview จำนวนเครื่องทั้งหมด : @ViewBag.FV2IN1Total เครื่อง
                                    </div>
                                    <div class="col-5">
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div class="row" id="maincard-status" style="border-radius:15px; background-color: rgba(255,255,255,1);">
                            <div class="col-6">
                                <div class="row ds-flex-center">

                                    <div class="text-nowrap fs-6 col-10" style="padding-top:0.5vh;padding-bottom:0.5vh; text-align:left;font-size: 1.1vw;font-weight: 700;color:rgb(19,163,5);">
                                        จำนวนเครื่อง Online : @ViewBag.online2IN1 เครื่อง
                                    </div>
                                </div>
                                <div class="row ds-flex-center">

                                    <div class="fs-3 col-5" style="border:outset; text-align: center;display: flex!important;justify-content: center;align-items: flex-start;padding-left: 10px;font-weight: 700;border-radius: 15px 15px 15px 15px;background-color: rgb(19,163,5);color: whitesmoke;flex-wrap: wrap;font-size: 35px;height: 75px; align-content: center;">
                                        @ViewBag.online2IN1
                                    </div>


                                </div>

                            </div>
                            <div class="col-6" style="padding-bottom: 20px;">
                                <div class="row ds-flex-center">

                                    <div class="text-nowrap fs-6 col-10" style="padding-top:0.5vh;padding-bottom:0.5vh;text-align:left;font-size: 1.1vw;font-weight: 700;color:rgb(252,42,77);">
                                        จำนวนเครื่อง Offline : @ViewBag.offline2IN1 เครื่อง
                                    </div>
                                </div>
                                <div class="row ds-flex-center">

                                    <div class="fs-3 col-5" style="border:outset; text-align: center;display: flex!important;justify-content: center;align-items: flex-start;padding-left: 10px;font-weight: 700;border-radius: 15px 15px 15px 15px;background-color: rgb(252,42,77);color: whitesmoke;flex-wrap: wrap;font-size: 35px;height: 75px; align-content: center;">
                                        @ViewBag.offline2IN1
                                    </div>


                                </div>

                            </div>

                        </div>
                    </div>
                    <div id="banner-fv">
                        <div class="row ">
                            <div class="col-12">
                                <div class="row ds-flex-spacearound" style="padding-top:0.5vh;padding-bottom:0.5vh;">
                                    <div class="col-5 fs-5" style="text-align:left;white-space:nowrap">
                                        เครื่อง 2IN1 - SECOne จำนวนเครื่องทั้งหมด : @ViewBag.FVSECTotal เครื่อง
                                    </div>
                                    <div class="col-5">
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div class="row" id="maincard-status" style="border-radius:15px; background-color: rgba(255,255,255,1);">
                            <div class="col-6">
                                <div class="row ds-flex-center">

                                    <div class="text-nowrap fs-6 col-10" style="padding-top:0.5vh;padding-bottom:0.5vh; text-align:left;font-size: 1.1vw;font-weight: 700;color:rgb(19,163,5);">
                                        จำนวนเครื่อง Online : @ViewBag.onlineSEC เครื่อง
                                    </div>
                                </div>
                                <div class="row ds-flex-center">

                                    <div class="fs-3 col-5" style="border:outset; text-align: center;display: flex!important;justify-content: center;align-items: flex-start;padding-left: 10px;font-weight: 700;border-radius: 15px 15px 15px 15px;background-color: rgb(19,163,5);color: whitesmoke;flex-wrap: wrap;font-size: 35px;height: 75px; align-content: center;">
                                        @ViewBag.onlineSEC
                                    </div>


                                </div>

                            </div>
                            <div class="col-6" style="padding-bottom: 20px;">
                                <div class="row ds-flex-center">

                                    <div class="text-nowrap fs-6 col-10" style="padding-top:0.5vh;padding-bottom:0.5vh;text-align:left;font-size: 1.1vw;font-weight: 700;color:rgb(252,42,77);">
                                        จำนวนเครื่อง Offline : @ViewBag.offlineSEC เครื่อง
                                    </div>
                                </div>
                                <div class="row ds-flex-center">

                                    <div class="fs-3 col-5" style="border:outset; text-align: center;display: flex!important;justify-content: center;align-items: flex-start;padding-left: 10px;font-weight: 700;border-radius: 15px 15px 15px 15px;background-color: rgb(252,42,77);color: whitesmoke;flex-wrap: wrap;font-size: 35px;height: 75px; align-content: center;">
                                        @ViewBag.offlineSEC
                                    </div>


                                </div>

                            </div>

                        </div>
                    </div>

                </div>
               


            </div>


            <div class="col-md-12 col-xl-6" style="margin-bottom: 1px;">
                <div id="banner-fv" style="margin-bottom: 15px;margin-top: 4px;">
                    <div class="row ">
                        <div class="col-12">
                            <div class="row ds-flex-spacearound" style="padding-top:0.5vh;padding-bottom:0.5vh;">
                                <div class="col-12 fs-5" style="text-align:center;white-space:nowrap">
                                    Top 5 Hardware Error
                                </div>
                                <div class="col-5">
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <div class="row" style="padding:0;background-color: rgba(255,255,255,0.65);padding: 1vh 1vw 1vh 1vw;border-radius: 15px 15px 15px 15px;height: 258px;margin-bottom: 5px;">

                    <div class="col-6">
                        <div class="row" style="margin-bottom: 20px;" >
                            <div class="col-3" style="padding: revert;">
                                <div class="fs-5 text-nowrap" style="height: 100%; border-radius: 15px 15px 15px 15px;background-color: rgba(255,255,255,1);text-align: left;display: flex!important;justify-content: flex-start;align-items: center;font-weight: 700;padding-left: 33px;z-index: inherit;position: sticky;">LRM</div>
                            </div>
                            <div class="col-3" >
                                <div class="fs-5 text-nowrap" style="width: 304px;height: 100%; border-radius: 15px 15px 15px 15px;background-color: rgba(255,255,255,1);text-align: left;display: flex!important;justify-content: flex-start;align-items: center;font-weight: 700;padding-left: 1vw;z-index: inherit;position: sticky;">
                                  
                                    <span style="margin-right: 10px;">ประจำเดือน : </span>
                                    
                                    <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                                    @Html.TextBox("FrMonthLRM", ViewBag.FrMonthLRM as string, new { @style = " border-radius: 10px;" , @class = "form-control subsearch", @placeholder = "dd/mm/yyyy", @type = "month", @min = "01-01-1997", @max = "31-12-2030" ,@pattern="dd/mm/yyyy" })

                                </div>
                                               </div>
                                                
                        </div>
                        <table id="table-id" class="table table-striped table-sm" style="min-width: 100%;">
                            <thead>
                                <tr>
                                    <th >No.</th>
                                    <th >Hardware Model</th>
                                    <th >Hardware Error</th>
                                </tr>
                            </thead>

                            <tbody>
                                
                                @foreach (var item in ViewBag.deviceLRMError)
                                {
                                   <tr>
                                        <td style="text-align: center">@item.TopErrorDeviceNo</td>
                                        <td style="text-align: left">
                                            <div class="row">
                                                @if (item.TopErrorDeviceNo == "1")
                                                {
                                                    <div class="color-square" style="background-color: red;height: 21px;margin-bottom: 0px;margin-top: 2px;margin-right: 20px;"></div>
                                                }
                                                else if (item.TopErrorDeviceNo == "2")
                                                {
                                                    <div class="color-square" style="background-color: green;height: 21px;margin-bottom: 0px;margin-top: 2px;margin-right: 20px;"></div>
                                                }
                                                 else if (item.TopErrorDeviceNo == "3")
                                                {
                                                    <div class="color-square" style="background-color: grey;height: 21px;margin-bottom: 0px;margin-top: 2px;margin-right: 20px;"></div>
                                                }
                                                else if (item.TopErrorDeviceNo == "4")
                                                {
                                                    <div class="color-square" style="background-color: yellow;height: 21px;margin-bottom: 0px;margin-top: 2px;margin-right: 20px;"></div>
                                                }
                                                else if (item.TopErrorDeviceNo == "5")
                                                {
                                                    <div class="color-square" style="background-color: blue;height: 21px;margin-bottom: 0px;margin-top: 2px;margin-right: 20px;"></div>
                                                }

                                                
                                                @item.TopErrorDeviceName
                                            </div>
                                          
                                          
                                              
                                               
                                        </td>
                                        <td style="text-align: left">@item.TopErrorDeviceDescription</td>
                                   </tr>
                                }
                               


                            </tbody>


                        </table>

                    </div>

                    <div class="col-6" style="margin-top: -13px;">
                        <div class="bar-container" style="width: 400px;height: 80%; border-radius: 15px 15px 15px 15px;background-color: rgba(255,255,255,1);text-align: left;display: flex!important;justify-content: flex-start;align-items: center;font-weight: 700;padding-left: 1vw;z-index: inherit;position: sticky;">
                            <div class="line"></div>


                            <canvas id="myChartLRM" style="width:320px !important;max-width:600px"></canvas>
                           @* <div class="bars">
                                <div class="bar bar-A" style="width: 200px;height:35px;"></div>
                                <div class="bar bar-B" style="width: 120px;height:35px;"></div>
                                <div class="bar bar-C" style="width: 80px;height:35px;"></div>
                                <div class="bar bar-D" style="width: 45px;height:35px;"></div>
                                <div class="bar bar-E" style="width: 30px;height:35px;"></div>
                                <!-- Add more bars as needed -->
                            </div>*@

                            <div class="color-squares">
                                <div class="color-square" style="background-color: red;">
                                    <div class="color-label">@ViewBag.deviceLRMError1</div>
                                </div>
                                <div class="color-square" style="background-color: green;">
                                    <div class="color-label">@ViewBag.deviceLRMError2</div>
                                </div>
                                <div class="color-square" style="background-color: grey;">
                                    <div class="color-label">@ViewBag.deviceLRMError3</div>
                                </div>
                                <div class="color-square" style="background-color: yellow;">
                                    <div class="color-label">@ViewBag.deviceLRMError4</div>
                                </div>
                                <div class="color-square" style="background-color: blue;">
                                    <div class="color-label">@ViewBag.deviceLRMError5</div>
                                </div>
                            </div>

                        </div>

                    </div>
                    
                   



                </div>
                <div class="row" style="padding:0;background-color: rgba(255,255,255,0.65);padding: 1vh 1vw 1vh 1vw;border-radius: 15px 15px 15px 15px;height: 258px;margin-bottom: 5px;">

                    <div class="col-6">
                        <div class="row" style="margin-bottom: 20px;">
                            <div class="col-3" style="padding: revert;">
                                <div class="fs-5 text-nowrap" style="height: 100%; border-radius: 15px 15px 15px 15px;background-color: rgba(255,255,255,1);text-align: left;display: flex!important;justify-content: flex-start;align-items: center;font-weight: 700;padding-left: 33px;z-index: inherit;position: sticky;">RDM</div>
                            </div>
                            <div class="col-3">
                                <div class="fs-5 text-nowrap" style="width: 304px;height: 100%; border-radius: 15px 15px 15px 15px;background-color: rgba(255,255,255,1);text-align: left;display: flex!important;justify-content: flex-start;align-items: center;font-weight: 700;padding-left: 1vw;z-index: inherit;position: sticky;">

                                    <span style="margin-right: 10px;">ประจำเดือน : </span>

                                    <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                                    @Html.TextBox("FrMonthRDM", ViewBag.FrMonthRDM as string, new { @style = " border-radius: 10px;" , @class = "form-control subsearch", @placeholder = "dd/mm/yyyy", @type = "month", @min = "01-01-1997", @max = "31-12-2030" ,@pattern="dd/mm/yyyy" })

                                </div>
                            </div>

                        </div>
                        <table id="table-id" class="table table-striped table-sm" style="min-width: 100%;">
                            <thead>
                                <tr>
                                    <th>No.</th>
                                    <th>Hardware Model</th>
                                    <th>Hardware Error</th>
                                </tr>
                            </thead>

                            <tbody>
                                @foreach (var item in ViewBag.deviceRDMError)
                                {
                                    <tr>
                                        <td style="text-align: center">@item.TopErrorDeviceNo</td>
                                        <td style="text-align: left">
                                            <div class="row">
                                                @if (item.TopErrorDeviceNo == "1")
                                                {
                                                    <div class="color-square" style="background-color: red;height: 21px;margin-bottom: 0px;margin-top: 2px;margin-right: 20px;"></div>
                                                }
                                                else if (item.TopErrorDeviceNo == "2")
                                                {
                                                    <div class="color-square" style="background-color: green;height: 21px;margin-bottom: 0px;margin-top: 2px;margin-right: 20px;"></div>
                                                }
                                                else if (item.TopErrorDeviceNo == "3")
                                                {
                                                    <div class="color-square" style="background-color: grey;height: 21px;margin-bottom: 0px;margin-top: 2px;margin-right: 20px;"></div>
                                                }
                                                else if (item.TopErrorDeviceNo == "4")
                                                {
                                                    <div class="color-square" style="background-color: yellow;height: 21px;margin-bottom: 0px;margin-top: 2px;margin-right: 20px;"></div>
                                                }
                                                else if (item.TopErrorDeviceNo == "5")
                                                {
                                                    <div class="color-square" style="background-color: blue;height: 21px;margin-bottom: 0px;margin-top: 2px;margin-right: 20px;"></div>
                                                }


                                                @item.TopErrorDeviceName
                                            </div>
                                        </td>
                                        <td style="text-align: left">@item.TopErrorDeviceDescription</td>
                                    </tr>
                                }


                            </tbody>


                        </table>

                    </div>

                    <div class="col-6" style="margin-top: -13px;">
                        <div class="bar-container" style="width: 400px;height: 80%; border-radius: 15px 15px 15px 15px;background-color: rgba(255,255,255,1);text-align: left;display: flex!important;justify-content: flex-start;align-items: center;font-weight: 700;padding-left: 1vw;z-index: inherit;position: sticky;">
                            <div class="line"></div>

                            <canvas id="myChartRDM" style="width:320px !important;max-width:600px"></canvas>

                            <div class="color-squares">
                                <div class="color-square" style="background-color: red;">
                                    <div class="color-label">@ViewBag.deviceRDMError1</div>
                                </div>
                                <div class="color-square" style="background-color: green;">
                                    <div class="color-label">@ViewBag.deviceRDMError2</div>
                                </div>
                                <div class="color-square" style="background-color: grey;">
                                    <div class="color-label">@ViewBag.deviceRDMError3</div>
                                </div>
                                <div class="color-square" style="background-color: yellow;">
                                    <div class="color-label">@ViewBag.deviceRDMError4</div>
                                </div>
                                <div class="color-square" style="background-color: blue;">
                                    <div class="color-label">@ViewBag.deviceRDMError5</div>
                                </div>
                            </div>

                        </div>

                    </div>





                </div>

                <div class="row" style="padding:0;background-color: rgba(255,255,255,0.65);padding: 1vh 1vw 1vh 1vw;border-radius: 15px 15px 15px 15px;height: 258px;margin-bottom: 9px;">

                    <div class="col-6">
                        <div class="row" style="margin-bottom: 20px;">
                            <div class="col-3" style="padding: revert;">
                                <div class="fs-5 text-nowrap" style="height: 100%; border-radius: 15px 15px 15px 15px;background-color: rgba(255,255,255,1);text-align: left;display: flex!important;justify-content: flex-start;align-items: center;font-weight: 700;padding-left: 33px;z-index: inherit;position: sticky;">2IN1</div>
                            </div>
                            <div class="col-3">
                                <div class="fs-5 text-nowrap" style="width: 304px;height: 100%; border-radius: 15px 15px 15px 15px;background-color: rgba(255,255,255,1);text-align: left;display: flex!important;justify-content: flex-start;align-items: center;font-weight: 700;padding-left: 1vw;z-index: inherit;position: sticky;">

                                    <span style="margin-right: 10px;">ประจำเดือน : </span>

                                    <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                                    @Html.TextBox("FrMonth2IN1", ViewBag.FrMonth2IN1 as string, new { @style = " border-radius: 10px;" , @class = "form-control subsearch", @placeholder = "dd/mm/yyyy", @type = "month", @min = "01-01-1997", @max = "31-12-2030" ,@pattern="dd/mm/yyyy" })

                                </div>
                            </div>

                        </div>
                        <table id="table-id" class="table table-striped table-sm" style="min-width: 100%;">
                            <thead>
                                <tr>
                                    <th>No.</th>
                                    <th>Hardware Model</th>
                                    <th>Hardware Error</th>
                                </tr>
                            </thead>

                            <tbody>
                                @foreach (var item in ViewBag.device2IN1Error)
                                {
                                    <tr>
                                        <td style="text-align: center">@item.TopErrorDeviceNo</td>
                                        <td style="text-align: left">
                                            <div class="row">
                                                @if (item.TopErrorDeviceNo == "1")
                                                {
                                                    <div class="color-square" style="background-color: red;height: 21px;margin-bottom: 0px;margin-top: 2px;margin-right: 20px;"></div>
                                                }
                                                else if (item.TopErrorDeviceNo == "2")
                                                {
                                                    <div class="color-square" style="background-color: green;height: 21px;margin-bottom: 0px;margin-top: 2px;margin-right: 20px;"></div>
                                                }
                                                else if (item.TopErrorDeviceNo == "3")
                                                {
                                                    <div class="color-square" style="background-color: grey;height: 21px;margin-bottom: 0px;margin-top: 2px;margin-right: 20px;"></div>
                                                }
                                                else if (item.TopErrorDeviceNo == "4")
                                                {
                                                    <div class="color-square" style="background-color: yellow;height: 21px;margin-bottom: 0px;margin-top: 2px;margin-right: 20px;"></div>
                                                }
                                                else if (item.TopErrorDeviceNo == "5")
                                                {
                                                    <div class="color-square" style="background-color: blue;height: 21px;margin-bottom: 0px;margin-top: 2px;margin-right: 20px;"></div>
                                                }


                                                @item.TopErrorDeviceName
                                            </div>
                                        </td>
                                        <td style="text-align: left">@item.TopErrorDeviceDescription</td>
                                    </tr>
                                }


                            </tbody>


                        </table>

                    </div>

                    <div class="col-6" style="margin-top: -13px;">
                        <div class="bar-container" style="width: 400px;height: 80%; border-radius: 15px 15px 15px 15px;background-color: rgba(255,255,255,1);text-align: left;display: flex!important;justify-content: flex-start;align-items: center;font-weight: 700;padding-left: 1vw;z-index: inherit;position: sticky;">
                            <div class="line"></div>

                            <canvas id="myChart2IN1" style="width:320px !important;max-width:600px"></canvas>

                            <div class="color-squares">
                                <div class="color-square" style="background-color: red;">
                                    <div class="color-label">@ViewBag.device2IN1Error1</div>
                                </div>
                                <div class="color-square" style="background-color: green;">
                                    <div class="color-label">@ViewBag.device2IN1Error2</div>
                                </div>
                                <div class="color-square" style="background-color: grey;">
                                    <div class="color-label">@ViewBag.device2IN1Error3</div>
                                </div>
                                <div class="color-square" style="background-color: yellow;">
                                    <div class="color-label">@ViewBag.device2IN1Error4</div>
                                </div>
                                <div class="color-square" style="background-color: blue;">
                                    <div class="color-label">@ViewBag.device2IN1Error5</div>
                                </div>
                            </div>

                        </div>

                    </div>





                </div>


                <div id=""></div>




            </div>


        </div>
    </div>

</div>
    <script>


       

        var xValues = ["", "", "", "", ""];
        var yValues = [@ViewBag.deviceLRMError1, @ViewBag.deviceLRMError2, @ViewBag.deviceLRMError3, @ViewBag.deviceLRMError4, @ViewBag.deviceLRMError5];
        var barColors = ["red", "green", "grey", "yellow", "blue"];

        new Chart("myChartLRM", {
            type: "horizontalBar",
            data: {
                labels: xValues,
                datasets: [{
                    backgroundColor: barColors,
                    data: yValues,
                    borderWidth: 0 // Set the border width to 0 to hide the bar borders
                }]
            },
            options: {
                scales: {
                    x: {
                        display: false // Hide the x-axis
                    },
                    y: {
                        display: false // Hide the y-axis
                    }
                },
                legend: { display: false },
                title: {
                    display: false,
                    text: "World Wine Production 2018"
                }
            }
        });


        var yValues = [@ViewBag.deviceRDMError1, @ViewBag.deviceRDMError2, @ViewBag.deviceRDMError3, @ViewBag.deviceRDMError4, @ViewBag.deviceRDMError5];
        new Chart("myChartRDM", {
            type: "horizontalBar",
            data: {
                labels: xValues,
                datasets: [{
                    backgroundColor: barColors,
                    data: yValues,
                    borderWidth: 0 // Set the border width to 0 to hide the bar borders
                }]
            },
            options: {
                scales: {
                    x: {
                        display: false // Hide the x-axis
                    },
                    y: {
                        display: false // Hide the y-axis
                    }
                },
                legend: { display: false },
                title: {
                    display: false,
                    text: "World Wine Production 2018"
                }
            }
        });

        var yValues = [@ViewBag.device2IN1Error1, @ViewBag.device2IN1Error2, @ViewBag.device2IN1Error3, @ViewBag.device2IN1Error4, @ViewBag.device2IN1Error5];
        new Chart("myChart2IN1", {
            type: "horizontalBar",
            data: {
                labels: xValues,
                datasets: [{
                    backgroundColor: barColors,
                    data: yValues,
                    borderWidth: 0 // Set the border width to 0 to hide the bar borders
                }]
            },
            options: {
                scales: {
                    x: {
                        display: false // Hide the x-axis
                    },
                    y: {
                        display: false // Hide the y-axis
                    }
                },
                legend: { display: false },
                title: {
                    display: false,
                    text: "World Wine Production 2018"
                }
            }
        });



        function updateDateTime() {
            var now = new Date();
            var datetimeElement = document.getElementById('datetime');
            var dateElement = document.getElementById('date');
            var timeElement = document.getElementById('time');
            var year = now.getFullYear();
            var month = String(now.getMonth() + 1).padStart(2, '0');
            var day = String(now.getDate()).padStart(2, '0');
            var hours = String(now.getHours()).padStart(2, '0');
            var minutes = String(now.getMinutes()).padStart(2, '0');
            var seconds = String(now.getSeconds()).padStart(2, '0');

            //var formattedDateTime = day + '-' + month + '-' + year + '      ' + hours + ':' + minutes + ':' + seconds;
            var formatDate = day + '-' + month + '-' + year;
            var formatTime = hours + ':' + minutes + ':' + seconds;
            //datetimeElement.textContent = formattedDateTime;
            dateElement.textContent = formatDate;
            timeElement.textContent = formatTime;
        }

        // Update datetime initially
        updateDateTime();
        setInterval(updateDateTime, 1000);
        // Update datetime every second
        let refreshTimer;
        function handleRefreshTimeChange() {
            var selectedValue = document.getElementById("refreshTime").value;
            localStorage.setItem("refreshTime", selectedValue);
            clearTimeout(refreshTimer);
            console.log(refreshTimer);
            //schedulePageRefresh(selectedValue);
        }


        const refreshCheckbox = document.getElementById("refreshCheckbox");
        const refreshTimeSelect = document.getElementById("refreshTime");

        // Load checkbox state and time from localStorage if available
        const savedCheckboxState = localStorage.getItem("checkboxState");
        const savedRefreshTime = localStorage.getItem("refreshTime");

        if (savedCheckboxState === "checked") {
            refreshCheckbox.checked = true;
        }

        if (savedRefreshTime) {
            refreshTimeSelect.value = savedRefreshTime;
        }

        if (refreshCheckbox.checked) {
            schedulePageRefresh(refreshTimeSelect.value);
        }

        refreshCheckbox.addEventListener("change", function () {
            if (refreshCheckbox.checked) {
                localStorage.setItem("checkboxState", "checked");
                const selectedTime = refreshTimeSelect.value;
                localStorage.setItem("refreshTime", selectedTime);
                schedulePageRefresh(selectedTime);
            } else {
                localStorage.removeItem("checkboxState");
                localStorage.removeItem("refreshTime");
                clearTimeout(refreshTimer);
            }
        });
        refreshTimeSelect.addEventListener("change", function () {
            var selectedValue = document.getElementById("refreshTime").value;
            console.log(selectedValue);
            localStorage.setItem("refreshTime", selectedValue);
            clearTimeout(refreshTimer);
            schedulePageRefresh(selectedValue);
        });


        function schedulePageRefresh(timeInSeconds) {
            const milliseconds = timeInSeconds * 1000;
            refreshTimer = setTimeout(function () {
                location.reload();
            }, milliseconds);
        }
    </script>

           